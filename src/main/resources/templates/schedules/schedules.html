<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="~{fragments/head :: headFragment}"></th:block>
    <link rel="stylesheet" th:href="@{/css/schedules.css}">
</head>
<body>
    <div class="container">
        <div class="page-title">
            <h1>일정 관리</h1>
        </div>

        <!-- 서브 탭 네비게이션 -->
        <div class="sub-tabs">
            <a href="/schedules/matches" class="sub-tab active" id="matches-tab">
                <i class="fas fa-futbol"></i> 경기
            </a>
            <a href="/schedules/calendar" class="sub-tab" id="calendar-tab">
                <i class="far fa-calendar-alt"></i> 캘린더
            </a>
        </div>

        <!-- 컨텐츠 영역 -->
        <div class="tab-content">
            <!-- 경기 일정 탭 컨텐츠 -->
            <div id="matches-content" class="content-section active">
                <!-- 경기 추가 버튼 -->
                <div class="add-item-btn">
                    <a href="#" class="btn add-btn" id="match-create-button">
                        <i class="fas fa-plus"></i> 새 경기 추가
                    </a>
                </div>

                <!-- 필터 버튼 -->
                <div class="item-filter">
                    <button class="filter-btn active" data-filter="all">전체</button>

                    <button th:each="filter : ${matchStatusFilters}" th:data-filter="${filter.value}"
                            class="filter-btn" th:text="${filter.name}">
                    </button>
                </div>

                <!-- 경기 목록 -->
                <div class="match-list" id="match-list">
                </div>
            </div>

            <!-- 캘린더 탭 컨텐츠 -->
            <div id="calendar-content" class="content-section">
                <!-- FullCalendar 컨테이너 -->
                <div class="calendar" id="calendar"></div>
                
                <div class="calendar-legend">
                    <div class="legend-item">
                        <span class="legend-color match-color"></span>
                        <span>경기 일정</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color birthday-color"></span>
                        <span>팀원 생일</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <th:block th:replace="~{fragments/nav :: navFragment}"></th:block>

    <!-- 일정 상세 정보 모달 -->
    <div class="event-modal" id="event-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-date">2025년 5월 15일</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div id="modal-events-list">
                    <!-- 동적으로 생성됨 -->
                </div>
            </div>
        </div>
    </div>

    <template id="match-template">
        <div class="match-item">
            <div class="match-details">
                <div class="match-teams">
                    <span class="team home">ABAI</span>
                    <span class="versus">VS</span>
                    <span class="score">0:0</span>
                    <span class="team away">상대팀</span>
                </div>
                <div class="match-info">
                    <span class="match-time"><i class="far fa-clock"></i> <span class="time-text">12:00</span></span>
                    <span class="match-result">승리</span>
                    <span class="match-location"><i class="fas fa-map-marker-alt"></i> <span class="location-text">서울시청</span></span>
                </div>
            </div>
            <div class="match-status">예정</div>
        </div>
    </template>

    <script th:src="@{/js/library/fullcalendar-6.1.17.js}" defer></script>
    <script type="module" th:src="@{/js/schedules/schedules.js}" defer></script>
</body>
</html> 